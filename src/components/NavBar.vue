<template>
    <header class="p-3 mb-3 border-bottom">
    <div class="container">
      <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
        <router-link to="/" class="d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none">
          <img src="data:image/png;base64,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">
        </router-link>
        <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
          <li><a href="#" class="nav-link px-2 link-secondary">Overview</a></li>
          <li><router-link to="/authors" class="nav-link px-2 link-dark">Our Authors</router-link></li>
          <li v-if="isLoggedIn"><router-link to="/user" class="nav-link px-2 link-dark">Users</router-link></li>
          <li v-if="isLoggedIn"><router-link to="/profile" class="nav-link px-2 link-dark">Profile</router-link></li>
          <li v-if="isLoggedIn"><a href="/logout" class="nav-link px-2 link-dark" @click.prevent="logout">Logout</a></li>
          <li v-if="!isLoggedIn"><router-link to="login" class="nav-link px-2 link-dark">Login</router-link></li>
          <li v-if="!isLoggedIn"><router-link to="/signup" class="nav-link px-2 link-dark">Sign up</router-link></li>
        </ul>

        <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search" @submit.prevent="postSearch">
          <input type="search" class="form-control" placeholder="Search..." aria-label="Search" v-model="searchedTxt">
        </form>
      </div>
    </div>
    isLoggedIn:{{isLoggedIn}}
    "a/searched":{{this.$store.state.a.searched}}
  </header>
</template>
<script>
export default {
    name: "NavBar",
    data(){
      return{
        searchedTxt: ''
      }
    },
    watch:{
      searchedTxt: function(newval){ //ewval,oldval
        if(newval.length===0){
          this.$store.commit("a/SET_SEARCHED_TRIGGER",false);
        }
      }
    },
    computed:{
      isLoggedIn() {
        return this.$store.getters['b/login/isUserLoggedin']
      },
    },
    methods:{
        logout(){
          this.$store.commit("b/login/LOGOUT_USER");
          this.$router.replace('/login');
        },
        postSearch(){
          this.$router.push(`/search?q=${this.searchedTxt}`).catch(() => {});
        }
      }
//['b/login/fetchLogin']
}
</script>